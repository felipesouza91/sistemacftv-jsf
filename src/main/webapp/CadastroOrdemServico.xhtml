<ui:composition template="/template/LayoutPadrao.xhtml" xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
  <f:metadata>
    <f:viewParam name="codigoCliente" value="#{cadastroOrdemServicoBean.cliente}" />
    <f:viewParam name="codigoOs" value="#{cadastroOrdemServicoBean.ordemServico}" />
  </f:metadata>
  <ui:define name="titulo">Cadastro Ordem Serviço</ui:define>

  <ui:define name="conteudo">
    <div class="custom-container mt-3 mx-2 mx-lg-auto">
      <h:messages showSummary="true" showDetail="false" styleClass="list-unstyled" errorClass="alert alert-danger"
        infoClass="alert alert-success" />
      <div class="card">
        <div class="card-header">
          Abertura de ordem
        </div>
        <div class="card-body">
          <h:form id="consultaOS">
            <div class="row">
              <div class="col-12 col-md-4">
                <label for="id" class="form-label">Cliente</label>
                <h:link outcome="CadastroCliente" rendered="#{not empty cadastroOrdemServicoBean.cliente.id}">
                  <f:param name="codigo" value="#{cadastroOrdemServicoBean.cliente.id}" />
                  <h:outputText value="#{cadastroOrdemServicoBean.cliente.fantazia}" id="cliente"
                    title="Abrir cadastro do Cliente" rendered="#{not empty cadastroOrdemServicoBean.cliente.id}"
                    class="form-control-plaintext" />
                </h:link>
              </div>
              <div class="col-12 col-md-4 mt-2">
                <label for="id" class="form-label">Id</label>
                <h:inputText size="10" value="#{cadastroOrdemServicoBean.ordemServico.id}" id="id" disabled="true"
                  class="form-control" />
              </div>
              <div class="col-12 col-md-4 mt-2">
                <label for="data" class="form-label">Data do Abetura:</label>
                <h:outputText id="data" class="form-control"
                  value="#{cadastroOrdemServicoBean.ordemServico.dataAbertura}"
                  converter="com.felipe.converter.dataConverter" disabled="true" />
              </div>
            </div>
            <div class="row">
              <div class="col-12 col-md-6 mt-2">
                <label for="solicitante" class="form-label">Solicitante</label>
                <h:inputText value="#{cadastroOrdemServicoBean.ordemServico.solicitante}" id="solicitante"
                  required="true" size="39" class="form-control" />
              </div>
              <div class="col-12 col-md-6 mt-2">
                <label for="dvr" class="form-label">DVR</label>
                <h:selectOneMenu value="#{cadastroOrdemServicoBean.ordemServico.dvr}" class="form-select" id="dvr">
                  <f:selectItem itemLabel="Selecione" />
                  <f:selectItems value="#{cadastroOrdemServicoBean.cliente.listDvr}" var="dvr" itemValue="#{dvr}"
                    itemLabel="#{dvr.fabricante}" />
                </h:selectOneMenu>
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-12 col-md-6 mt-2">
                <label for="prioridade" class="form-label">Prioridade</label>
                <h:selectOneMenu value="#{cadastroOrdemServicoBean.ordemServico.prioridadeOs}" class="form-select"
                  id="prioridade">
                  <f:selectItems var="prioridade" value="#{cadastroOrdemServicoBean.prioridadeOs}"
                    itemValue="#{prioridade}" itemLabel="#{prioridade.descricao}" />
                </h:selectOneMenu>
              </div>
              <div class="col col-md-6 mt-2">
                <label for="motivoOs" class="form-label">Motivo</label>
                <h:selectOneMenu value="#{cadastroOrdemServicoBean.ordemServico.motivoOs}" required="true" id="motivoOs"
                  class="form-select">
                  <f:selectItem itemLabel="Selecione" noSelectionOption="true" />
                  <f:selectItems var="motivoOs" value="#{cadastroOrdemServicoBean.listMotivo}" itemValue="#{motivoOs}"
                    itemLabel="#{motivoOs.descricao}" />
                </h:selectOneMenu>
              </div>
            </div>
            <div class="row">
            </div>
            <div class="row">
              <div class="col mt-2">
                <label for="descricao" class="form-label">Descrição</label>
                <h:inputTextarea class="form-control" value="#{cadastroOrdemServicoBean.ordemServico.descricao}"
                  cols="40" rows="7" id="descricao" required="true" />
              </div>
            </div>
            <div class="row mt-4">
              <div class="col-3">
                <h:commandButton class="btn btn-success container-fluid" value="Salvar"
                  action="#{cadastroOrdemServicoBean.salvar}" />
              </div>
            </div>
          </h:form>
        </div>
      </div>


    </div>
  </ui:define>
</ui:composition>