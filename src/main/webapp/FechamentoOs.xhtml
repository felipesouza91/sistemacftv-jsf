<ui:composition
  template="/template/LayoutPadrao.xhtml"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
>
  <f:metadata>
    <f:viewParam
      name="codigoOs"
      value="#{fechamentoOsBean.os}"
      required="true"
    />
  </f:metadata>

  <ui:define name="titulo">Fechamento de Os</ui:define>

  <ui:define name="conteudo">
    <h:outputStylesheet library="css" name="cadastro.css" />
    <h:form id="formFechaOs">
      <h:messages
        showSummary="true"
        showDetail="false"
        styleClass="form-messages"
        errorClass="error"
        infoClass="info"
      />

      <h:panelGrid columns="2" styleClass="from-grid">
        <h:outputLabel value="Data do Fechamento:" title="Data Fechamento" />
        <h:outputText value="#{fechamentoOsBean.fechamento.dataFechamento}">
          <f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
        </h:outputText>
        <h:outputLabel value="Nome Cliente:" />
        <h:outputText value="#{fechamentoOsBean.os.cliente.fantazia}" />
        <h:outputLabel value="Numero da OS:" />
        <h:panelGroup>
          <h:outputText value="#{fechamentoOsBean.os.id}" />
          <h:outputLabel value="Os Service:" />
          <h:outputText value="#{fechamentoOsBean.os.codigoService}" />
        </h:panelGroup>

        <h:outputLabel value="Motivo Fechamento" />
        <h:inputText
          size="30"
          value="#{fechamentoOsBean.fechamento.motivoFechamento}"
          required="true"
          label="Motivo Fechamento"
        />

        <h:outputLabel value="Data da Visita:" />
        <h:inputText
          converter="com.felipe.converter.dataHtml5"
          required="true"
          value="#{fechamentoOsBean.fechamento.dataVisita}"
          label="Data da Visita"
        >
          <f:passThroughAttribute name="type" value="date" />
        </h:inputText>

        <h:outputLabel value="Nome do Tecnico:" />
        <h:inputText
          size="30"
          value="#{fechamentoOsBean.fechamento.tecnico}"
          label="Nome do Tecnico"
          required="true"
        />

        <h:outputLabel value="Serviço Realizado:" />
        <h:inputTextarea
          cols="40"
          rows="7"
          value="#{fechamentoOsBean.fechamento.observcaoServico}"
          required="true"
          label="Serviço Realizado"
        />

        <h:outputLabel />
        <h:commandButton value="Salvar" action="#{fechamentoOsBean.salvar}" />
      </h:panelGrid>
    </h:form>
  </ui:define>
</ui:composition>
