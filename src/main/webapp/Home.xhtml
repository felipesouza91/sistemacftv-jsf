<ui:composition template="/template/LayoutPadrao.xhtml" 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
	
	<ui:define name="titulo">Sistema CFTV</ui:define>
	
	<ui:define name="conteudo">
		<div class="container mt-3">
			<h1>Sistema CFTV Beta 0.3</h1>
			<h:outputText value="Data do Lancamento: 06/02/2017"/>
			
			<h:dataTable var="ordem" value="#{homeOsBean.listOs}" styleClass="table">
				<h:column>
						<f:facet name="header">Codigo</f:facet>
						<h:outputText value="#{ordem.id}"/>
				</h:column>
				<h:column>
						<f:facet name="header">Nivel</f:facet>
						<h:outputText value="#{ordem.prioridadeOs}"/>
				</h:column>
				
				<h:column>
						<f:facet name="header">Codigo OS Service</f:facet>
						<h:outputText value="#{ordem.codigoService}"/>
				</h:column>
				
				<h:column>
						<f:facet name="header">Nome Cliente</f:facet>
						<h:outputText value="#{ordem.cliente.fantazia}"/>
				</h:column>
				
				<h:column>
						<f:facet name="header">Motivo OS</f:facet>
						<h:outputText value="#{ordem.motivoOs.descricao}"/>
				</h:column>
				
				<h:column>
						<f:facet name="header">Data Abertura</f:facet>
						<h:outputText value="#{ordem.dataAbertura}"/>
				</h:column>
				
					<h:column>
						<h:link outcome="CadastroOrdemServico" title="Edição de Os">
							<h:graphicImage value="/imagens/editar.png"/>	
							<f:param name="codigoOs" value="#{ordem.id}"/>
							<f:param name="codigoCliente" value="#{ordem.cliente.id}"/>
						</h:link>
					<h:panelGroup>
						<h:link outcome="FechamentoOs" title="Fechamento de Os" rendered="#{empty ordem.fechamento}">
							<h:graphicImage value="/imagens/fechamento.png"/>
							<f:param name="codigoOs" value="#{ordem.id}"/>
						</h:link>
						<h:link outcome="#" title="Ordem já fechada" rendered="#{not empty ordem.fechamento}">
							<h:graphicImage value="/imagens/fechamentoOk.png"/>
						</h:link>
					</h:panelGroup>	
							
					</h:column>
			</h:dataTable>
		</div>
	</ui:define>

</ui:composition>